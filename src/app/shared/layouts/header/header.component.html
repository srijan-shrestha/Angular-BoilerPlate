<header class="header container-fluid">
  <div class="row align-items-center h-100">
    <div class="col-xs-7 col-sm-7 col-md-10 col-auto d-flex h-100">
      <div (click)="sidenavToggle()" class="header__brand" id="headerBrand">
        <!-- <div class="header__brand__logo" [style.backgroundImage]="'url(' + companyLogo + ')'"></div>
        <div *ngIf="companyLogoMark" class="header__brand__mark" [style.backgroundImage]="'url(' + companyLogoMark + ')'"></div> -->
        <div *ngIf="companyLogo || companyLogoMark"
             [class]="companyLogo ? 'header__brand__logo': 'header__brand__mark' "
             [style.backgroundImage]="companyLogo ? 'url(' + companyLogo + ')' : 'url(' + companyLogoMark + ')'"></div>

        <div class="dot-menu">
          <app-icon icon='dotMenu' size='xl' type="primary" class='ml-1'></app-icon>
        </div>
      </div>

      <div class="page-title d-flex">
        <div class="flex-grow-1 d-none d-md-block">{{getPageTitle()}}</div>
        <div class="flex-grow-1 d-block d-sm-none" style="font-size: 14px; margin-left: -21px;">
          {{ (getPageTitle().length > 16) ? (getPageTitle() | slice:0:16) + '..' : (getPageTitle()) }}
        </div>

        <!-- <div *ngIf="isInitiativeDetailPage() || isQuarterlyDeptGoalsPage()"
             class="d-flex justify-content-end special-navigation flex-column">

          <div class="side-text" [class.text-muted]="!isInitiativeDetailPage()">
            <a [routerLink]="['/planning-execution/initiative-details']">Annual Plan</a>
          </div>
          <app-icon size="sm" type="grey" icon="slanted-line" class="slanted-icon" *ngIf="isInitiativeDetailPage()"></app-icon>
          <br>
          <div class="ml-2" style="color: #808080;">Viewing</div>
          <app-icon size="sm" type="grey" icon="back-slanted-line" class="slanted-icon" *ngIf="isQuarterlyGoalsPage()"></app-icon>
          <br>

          <div class="side-text" [class.text-muted]="!isQuarterlyGoalsPage()">
            <a [routerLink]="['/quarterly-goals/department']">Quarterly plan</a>
          </div>

        </div> -->

        <!-- <div class="d-flex justify-content-end flex-row goals-list" *ngIf="isQuarterlyGoalsPage()">
          <div class="mt-3 ml-2" *ngIf="!isQuarterlyDeptGoalsPage()">Others</div>
          <div class="flex-column">
            <a [routerLink]="[goalsListDisplay[0].url]">
              <div class="goals-list__item mb-1">{{goalsListDisplay[0].label}}</div>
            </a>
            <br>
            <a [routerLink]="[goalsListDisplay[1].url]">
              <div class="goals-list__item mt-1">{{goalsListDisplay[1].label}}</div>
            </a>
          </div>
        </div> -->
      </div>
      <!-- <div class="header__ham-menu" (click)="navToggle()" [ngClass]="hide?'hideActive':'showActive'" >
        <div class="bar1"></div>
        <div class="bar2"></div>
        <div class="bar3"></div>
      </div>
      <ul class="header__nav" [ngClass]="hide?'hideNav':'showNav'">
        <li><a [routerLinkActive]="['active']" [routerLink]="['/dashboard']">Dashboard</a></li>
        <li><a [routerLinkActive]="['active']" [routerLink]="['/planning-execution']">Planning & Execution</a></li>
        <li><a [routerLinkActive]="['active']" [routerLink]="['/playbooks']">Playbooks</a></li>
        <li><a [routerLinkActive]="['active']" [routerLink]="['/company']">Company</a></li>
      </ul> -->
    </div>

    <div class="col-xs-5 col-sm-5 col-md-2 col-auto"
         style="display: flex; justify-content: flex-end; padding: 0 5px 0 0;">
      <div class="header__dropdown">
        <div class="header__dropdown-toggle text-right pt-2">
          <div class="d-inline-block mr-3 bell">
            <app-icon icon="searchNew" type="white"></app-icon>
          </div>
          <div class="d-inline-block"
               (click)="toggleNotificationBox()"
          >
            <app-icon icon="bell" type="white"
            ></app-icon>
            <div class="notification-length">{{ notifications.length }}</div>
          </div>
        </div>

        <div class="notification d-none" id="notification-box">
          <ul class="list-group notification-list-group" *ngIf="notifications.length; else noNotifications">
            <li *ngFor="let notification of notifications" class="list-group-item notification-item min-width-17-rem"
                (click)="notificationClicked(notification)">
              {{ dynamicNotification(notification) }}
            </li>
          </ul>
          <ng-template #noNotifications>
            <div class="list-group-item min-width-17-rem">
              All notifications caught up or <br>No preference selected.
            </div>
          </ng-template>
        </div>
      </div>
      <div ngbDropdown placement="bottom-right" class="header__dropdown">
        <div ngbDropdownToggle class="header__dropdown-toggle text-right">
          <div class="header__profile-pic" [style.backgroundImage]="'url(' + profilePic + ')'"></div>
          <app-icon icon='dotMenu' type="white" size='md'></app-icon>
        </div>
        <div ngbDropdownMenu class="header__dropdown-menu font-weight-bold ">
          <a [routerLink]="['/my-settings']" ngbDropdownItem class="header__dropdown-item d-flex align-items-center">
            <span class="float-left text-uppercase ">My Settings</span>
          </a>
          <!--<a [routerLink]="['/company-settings']" ngbDropdownItem-->
          <!--class="header__dropdown-item d-flex align-items-center">-->
          <!--<span class="float-left text-uppercase ">Company Settings</span>-->
          <!--</a >-->
          <a (click)="logOut()" ngbDropdownItem class="header__dropdown-item d-flex align-items-center">
            <span class="float-left text-uppercase ">Logout</span>
          </a>
        </div>
      </div>
    </div>

  </div>
  <div class="row side-nav" style="margin-left: -15px;">
    <div class="col-md-12" style="margin-left: -15px;">
      <app-side-nav></app-side-nav>
    </div>
  </div>
</header>
