
<div class="modal-body metadata-modal row">
  <div class="col-9 h-100">
    <div class="h-100" >
      <div class="d-flex align-items-center justify-content-center h-100 image-container" *ngIf="!showCropper" >
        <img [src]="selectedImage.id ? selectedImage.image : imageBase64" *ngIf="divStatus=='addMetaData'">
        <canvas #myCanvas class="myCanvas" *ngIf="divStatus=='edit'">
        </canvas>
      </div>
      <div class="d-flex align-items-center" *ngIf="showCropper" [class.h-100]="showCropper">
        <image-cropper
          *ngIf="imageBase64"
          [imageBase64]="imageBase64"
          [maintainAspectRatio]="true"
          format="png"
          [transform]="transform"
          (imageCropped)="imageCropped($event)"
        ></image-cropper>
      </div>
      <div class="row image-utilities">
        <div class="col d-flex" *ngIf="divStatus=='addMetaData'">
          <div class="btn-container" (click)="editImage()"><app-icon type="white"  icon="edit" ></app-icon></div>
          <div class="mx-4 btn-container" (click)="deleteImage()"><app-icon type="white"  icon="trash"></app-icon></div>
        </div>
      </div>
    </div>
  </div>

  <div class="col-3 my-3">
    <div>
      <button type="button" class="close" aria-label="Close" (click)="activeModal.close()">
        <!-- <span aria-hidden="true">&times;</span> -->
        <app-icon icon="xcross" size="sm"></app-icon>
      </button>
    </div>
    <ng-template [ngIf]="divStatus==='edit'">
      <div class="editPhoto">
        <div class="my-4">
          <h6>Edit your photo</h6>
        </div>
        <div class="div-separator"></div>
        <div class="row py-3">
          <div class="col-8 edit-label pt-2">ROTATE</div>
          <div class="col-4">
            <div class="row">
              <div class="col-4 rotate" (click)="rotateImage('right')">
                <app-icon type="gray" size="sm" icon="rotateRight">
                </app-icon>
              </div>
              <div class="col-4 rotate" (click)="rotateImage('left')">
                <app-icon type="gray" size="sm" icon="rotateLeft">
                </app-icon>
              </div>
            </div>
          </div>
        </div>
        <div class="div-separator"></div>
        <div class="row py-3">
          <div class="col-9 edit-label pt-2">CROP</div>
          <div class="col-3">
            <span class="float-right mr-4" (click)="onCropClick()" ><app-icon type="gray" size="sm" icon="arrow"></app-icon></span>
          </div>
        </div>
        <div class="div-separator"></div>
        <div class="row button-utilities ml-md-2">
          <div class="col">
            <!-- <app-button class="" type="" size="md" (click)="activeModal.close()">CANCEL</app-button> -->
            <button class="btn btn-cultural" (click)="cancel('cancelEdit')"> CANCEL </button>
          </div>
          <div class="col">
            <!-- <app-button type="primary" size="md" (click)="applyEdit($event)">APPLY</app-button> -->
            <button class="btn btn-cultural btn-primary" (click)="applyEdit()"> APPLY </button>
          </div>
        </div>
      </div>
    </ng-template>
    <!-- <ng-template [ngIf]="divStatus==='crop'">
      <div class="crop-horiziontal">
        <div class="my-4">
          <h5>Edit your photo</h5>
        </div>
        <hr>
        <div class="row">
          <div class=" col text-uppercase">select an aspect ratio:</div>
        </div>
        <div class="row">
          <div class="col">
            <div class="my-2">ORIGINAL</div>
            <div class="my-2">9:16</div>
            <div class="my-2">2:3</div>
            <div class="my-2">3:4</div>
          </div>
          <div class="col">
            <div class="my-2">FREE</div>
            <div class="my-2">4:5</div>
            <div class="my-2">1:1</div>
            <div class="my-2">3:4</div>
          </div>
        </div>
        <div class="row image-utilities">
          <div class="col">
            <app-button type="outline-secondary" size="md" (click)="swicthToSelected()">Cancel</app-button>
          </div>
          <div class="col">
            <app-button type="primary" size="md" (click)="applyCrop()">Save</app-button>
          </div>
        </div>
      </div>
    </ng-template> -->
    <ng-template [ngIf]="divStatus==='addMetaData'">
      <div class="my-4">
        <h6 class="">Add Metdata</h6>
      </div>

      <div [formGroup]="imageForm">
        <div class="my-3">
          <app-input type="text" id="location" formControlName="location"
                                 placeholder="Location*"></app-input>
        </div>

        <div class="my-4">
          <app-input id="tags" type="text" formControlName="tags" placeholder="Tags*"></app-input>
        </div>

        <div class="my-4">
          <app-input id="caption" type="text" formControlName="caption" placeholder="Caption*"></app-input>
        </div>

        <div class="my-4">
          <app-input id="people" formControlName="people" type="textarea"
           placeholder="List people seperated by comma">
          </app-input>
        </div>
      </div>

      <div class="div-separator mt-5"></div>

      <div class="my-3">
        <h6>File Data:</h6>
      </div>

      <div class="row">
        <div class="col">
          <div class="my-3">
            <div class="text-uppercase file-data-label">File Name:</div>
              <!-- <pre class="">{{(fileName.length > 20) ? (fileName | slice:0:20) + '...' : (fileName)}}</pre> -->
              <pre class="">{{fileName ? fileName: 'N/A'}}</pre>
            </div>
        </div>
      </div>
      <div class="row">
        <div class="col">
          <!-- <div class="my-2">
            <div class="text-uppercase font-weight-bold">File Name:</div>
            <pre class="">{{(fileName.length > 20) ? (fileName | slice:0:20) + '...' : (fileName)}}</pre>
          </div> -->

          <div class="my-3">
            <div class="text-uppercase file-data-label">File Type:</div>
            <div class="file-data-text">{{fileType ? fileType: 'N/A'}}</div>
          </div>

          <div class="my-3">
            <div class="text-uppercase file-data-label">Dimensions:</div>
            <div class="file-data-text">{{imageDimension ? imageDimension: 'N/A'}} </div>
          </div>

          <div class="my-3">
            <div class="text-uppercase file-data-label">Warning:</div>
            <div class="file-data-text">N/A</div>
          </div>

          <div class="my-3">
            <div class="text-uppercase file-data-label">Published:</div>
            <div class="file-data-text">{{publishDate  | date:'dd/MM/yy'}}</div>
          </div>
        </div>

        <div class="col">
          <div class="my-3">
            <div class="text-uppercase file-data-label">Gallery:</div>
            <div class="file-data-text">{{gallery ? gallery: 'N/A'}} </div>
          </div>

          <div class="my-3">
            <div class="text-uppercase file-data-label">File Size:</div>
            <div class="file-data-text">{{fileSize ? fileSize: 'N/A'}}</div>
          </div>

          <div class="my-3">
            <div class="text-uppercase file-data-label">Theme Layout:</div>
            <div class="file-data-text">N/A</div>
          </div>

          <div class="my-3">
            <div class="text-uppercase file-data-label">Submitted By:</div>
            <div class="file-data-text">Blaast</div>
          </div>
        </div>
      </div>
      <div class="row button-utilities">
        <div class="col-md-6">
          <!-- <app-button type="" size="md" (click)="activeModal.close()">CANCEL</app-button> -->
          <button class="btn btn-cultural" (click)="cancel('closeModal')"> CANCEL </button>
        </div>
        <div class="col-md-6">
          <button class="btn btn-cultural btn-primary" [disabled]="imageForm.invalid" [class.btn--loading]="btnLoading"  (click)="saveMetaData(); activeModal.close()"> SAVE </button>
          <!-- <app-button type="primary" size="md" (click)="saveMetaData(); activeModal.close()">SAVE</app-button> -->
        </div>
      </div>
    </ng-template>
  </div>

  <!-- <div class="row pre-next">
    <div class="col">
      <app-button [disabled]="imageIndex === 0" type="link" (click)="previousImage()" class="prev-btn">
        <div class="row">
          <div class="col-1 p-0">
            <app-icon type="white" icon="sideLeft" ></app-icon>
          </div>
          <div class="col-auto">
            <span class="text-white">PREVIOUS IMAGE</span>
          </div>
        </div>
      </app-button>
    </div>
    <div class="col float-right">
      <app-button type="link" [disabled]="photosArray.length - 1 === imageIndex" (click)="nextImage()">
        <div class="row">
          <div class="col-auto">
            <span class="text-white">NEXT IMAGE</span>
          </div>
          <div class="col-1 p-0">
            <app-icon type="white" icon="sideRight" class=""></app-icon>
          </div>
        </div>
      </app-button>
    </div>
  </div> -->

</div>
